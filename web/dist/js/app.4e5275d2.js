(function(e){function t(t){for(var r,o,i=t[0],l=t[1],u=t[2],m=0,p=[];m<i.length;m++)o=i[m],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},s=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0074":function(e,t,a){},"02cd":function(e,t,a){},"02db":function(e,t,a){},"034f":function(e,t,a){"use strict";a("85ec")},"04d4":function(e,t,a){},"04ed":function(e,t,a){"use strict";a("9ef4")},"12af":function(e,t,a){},"15fd":function(e,t,a){"use strict";a("5774")},"19dd":function(e,t,a){"use strict";a("fd36")},"217f":function(e,t,a){},2216:function(e,t,a){"use strict";a("252f")},"252f":function(e,t,a){},"2ac5":function(e,t,a){"use strict";a("02db")},"2c95":function(e,t,a){"use strict";a("217f")},"2e05":function(e,t,a){},3004:function(e,t,a){"use strict";a("b70e")},"304a":function(e,t,a){"use strict";a("50d0")},3391:function(e,t,a){},3484:function(e,t,a){},"3e1a":function(e,t,a){"use strict";a("7a6f")},4342:function(e,t,a){"use strict";a("3391")},"44b5":function(e,t,a){"use strict";a("778b")},4864:function(e,t,a){},"50d0":function(e,t,a){},"53a5":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app",attrs:{id:"app"}},[a("el-container",{attrs:{direction:"vertical"}},[a("Header"),a("el-container",[a("router-view")],1)],1)],1)},s=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-header",{staticStyle:{"text-align":"center",height:"100px","font-size":"12px",margin:"10px 10px"}},[a("span",{staticClass:"MainTitle"},[e._v("缺陷演示系统")]),a("span",{staticClass:"username"},[e._v(e._s(e.t))]),a("el-dropdown",{on:{command:e.handleCommand}},[a("i",{staticClass:"el-icon-edit",staticStyle:{"margin-right":"15px","font-size":"20px"}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"edit"}},[e._v("查看资料")]),a("el-dropdown-item",{attrs:{command:"exit"}},[e._v("注销账号")]),a("el-dropdown-item",{attrs:{command:"change"}},[e._v("修改密码")])],1)],1)],1)},i=[],l={data:function(){return{t:""}},computed:{userInfo:function(){return this.$store.state.userInfo}},watch:{$route:function(e,t){console.log(e.path),console.log(t.path),this.t=JSON.parse(sessionStorage.getItem("store")).UserName}},methods:{handleCommand:function(e){"exit"===e?(localStorage.removeItem("token"),sessionStorage.removeItem("store"),sessionStorage.setItem("store",JSON.stringify({UserName:""})),this.$router.push({path:"/"})):"edit"===e?this.$router.push({path:"/edit"}):"change"===e&&this.$router.push({path:"/change"})}}},u=l,c=(a("3004"),a("2877")),m=Object(c["a"])(u,o,i,!1,null,null,null),p=m.exports,f={components:{Header:p}},d=f,h=(a("034f"),Object(c["a"])(d,n,s,!1,null,null,null)),g=h.exports,b=a("1da1"),v=(a("96cf"),a("8c4f")),w=a("2f62");r["default"].use(w["a"]);var F=new w["a"].Store({state:{userInfo:{}},mutations:{changeUserInfo:function(e,t){e.userInfo=t}},actions:{},modules:{}}),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"side"},[a("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px",height:"1000px"}},[a("el-menu",[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-message"}),e._v("新闻管理")]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"}},[a("router-link",{attrs:{to:{name:"addNews"}}},[e._v("SQL注入漏洞")])],1),a("el-menu-item",{attrs:{index:"1-2"}},[a("router-link",{attrs:{to:{name:"news"}}},[e._v("文件上传漏洞")])],1)],1)],2),e.userInfo.ClassificationsID[0]&&1==e.userInfo.ClassificationsID[0]?a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),e._v("分类管理")]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"2-1"}},[a("router-link",{attrs:{to:{name:"allClass"}}},[e._v("所有分类展示")])],1),a("el-menu-item",{attrs:{index:"2-2"}},[a("router-link",{attrs:{to:{name:"addClass"}}},[e._v("新增分类")])],1),a("el-menu-item",{attrs:{index:"2-3"}},[a("router-link",{attrs:{to:{name:"xss"}}},[e._v("XSS漏洞攻击")])],1)],1)],2):e._e(),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-trophy"}),e._v("新闻排行")]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"3-1"}},[a("router-link",{attrs:{to:{name:"rank"}}},[e._v("排行榜")])],1)],1)],2),e.userInfo.ClassificationsID[0]&&1==e.userInfo.ClassificationsID[0]?a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-user"}),e._v("用户管理")]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"4-1"}},[a("router-link",{attrs:{to:{name:"register"}}},[e._v("添加管理员")])],1),a("el-menu-item",{attrs:{index:"4-2"}},[a("router-link",{attrs:{to:{name:"allUsers"}}},[e._v("所有管理员")])],1)],1)],2):e._e(),e.userInfo.ClassificationsID[0]&&1==e.userInfo.ClassificationsID[0]?a("el-submenu",{attrs:{index:"5"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),e._v("日志管理")]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"5-1"}},[a("a",{attrs:{href:"/statics/logs",target:"blank"}},[e._v("查看日志")])])],1)],2):e._e(),e.userInfo.ClassificationsID[0]&&1==e.userInfo.ClassificationsID[0]?a("el-submenu",{attrs:{index:"6"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-user"}),e._v("攻击")]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"6-1"}},[a("router-link",{attrs:{to:{name:"xss"}}},[e._v("xss攻击")])],1)],1)],2):e._e()],1)],1),a("router-view")],1)},x=[],C={components:{},mounted:function(){console.log(JSON.parse(sessionStorage.getItem("store"))),F.commit("changeUserInfo",JSON.parse(sessionStorage.getItem("store"))),console.log(this.$store.state.userInfo)},watch:{$route:function(e,t){console.log(e.path),console.log(t.path),window.location.reload()}},computed:{userInfo:function(){return this.$store.state.userInfo}}},_=C,k=(a("d969"),Object(c["a"])(_,y,x,!1,null,null,null)),I=k.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-page"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"登录(用户校验)",name:"login"}},[a("login")],1),a("el-tab-pane",{attrs:{label:"登录(未做用户校验)",name:"second"}},[a("loginerr")],1)],1)],1)},$=[],S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-section"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"top",rules:e.rules,model:e.ruleForm,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"邮箱",prop:"Email"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.Email,callback:function(t){e.$set(e.ruleForm,"Email",t)},expression:"ruleForm.Email"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"Password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.Password,callback:function(t){e.$set(e.ruleForm,"Password",t)},expression:"ruleForm.Password"}})],1),a("el-form-item",{attrs:{label:"验证码",prop:"VerifyCode"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.VerifyCode,callback:function(t){e.$set(e.ruleForm,"VerifyCode",t)},expression:"ruleForm.VerifyCode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"info",icon:"el-icon-message",circle:""},on:{click:e.getVerify}}),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},D=[],O=a("d4ec"),P=a("bee2"),j=(a("d3b7"),a("bc3a")),E=a.n(j),T=function(){function e(t){Object(O["a"])(this,e),this.defaults={baseUrl:""},this.defaults=Object.assign(this.defaults,t)}return Object(P["a"])(e,[{key:"setConfig",value:function(){}},{key:"interceptors",value:function(e){e.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Token=t),e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){var t=e.data;return t}),(function(e){return Promise.reject(e)}))}},{key:"request",value:function(e){e=Object.assign(this.defaults,e);var t=E.a.create(e);return this.interceptors(t),t}}]),e}(),R=new T({baseURL:"/api"}),L=R.request();function q(e){return z.apply(this,arguments)}function z(){return z=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.post("/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}function U(e){return A.apply(this,arguments)}function A(){return A=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.post("/getVerify",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function Q(e){return J.apply(this,arguments)}function J(){return J=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.post("/user/register",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}function X(){return V.apply(this,arguments)}function V(){return V=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.get("user/one");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),V.apply(this,arguments)}function M(e){return H.apply(this,arguments)}function H(){return H=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.delete("user/one",{data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function B(){return K.apply(this,arguments)}function K(){return K=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.get("/user/list");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}function W(e){return Z.apply(this,arguments)}function Z(){return Z=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.put("user/one",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}function G(e){return Y.apply(this,arguments)}function Y(){return Y=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.post("changePassword",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Y.apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return te=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.get("/classification/list",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function ae(e){return re.apply(this,arguments)}function re(){return re=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.get("/classification/one",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}function ne(e){return se.apply(this,arguments)}function se(){return se=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.delete("/classification/one",{data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),se.apply(this,arguments)}function oe(e){return ie.apply(this,arguments)}function ie(){return ie=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.post("classification/one",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}function le(e){return ue.apply(this,arguments)}function ue(){return ue=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.put("classification/one",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),ue.apply(this,arguments)}function ce(e){return me.apply(this,arguments)}function me(){return me=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.get("news/list",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),me.apply(this,arguments)}function pe(e){return fe.apply(this,arguments)}function fe(){return fe=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.delete("news/one",{data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function de(e){return he.apply(this,arguments)}function he(){return he=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.put("news/one",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),he.apply(this,arguments)}function ge(e){return be.apply(this,arguments)}function be(){return be=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.post("news/click",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),be.apply(this,arguments)}function ve(e){return we.apply(this,arguments)}function we(){return we=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.get("news/one",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),we.apply(this,arguments)}function Fe(e){return ye.apply(this,arguments)}function ye(){return ye=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.post("news/one",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),ye.apply(this,arguments)}function xe(e){return Ce.apply(this,arguments)}function Ce(){return Ce=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.post("uploadFile",t,{headers:{"Content-Type":"multipart/form-data;boundary = "+(new Date).getTime()}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Ce.apply(this,arguments)}var _e=new T({baseURL:""}),ke=_e.request();function Ie(e){return Ne.apply(this,arguments)}function Ne(){return Ne=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ke.post("http://59.65.232.241:9011/api/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Ne.apply(this,arguments)}function $e(e){return Se.apply(this,arguments)}function Se(){return Se=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ke.get("http://59.65.232.241:9011/api/news/list",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Se.apply(this,arguments)}var De=a("9816");function Oe(e){var t=new De["a"]({key_size:2048}),a="-----BEGIN RSA Public Key-----MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwtZiEkP3IQKZ/sMefra0jnao4EQXyEbowT5MwNXRwwBbkVM/Wa0gy+RrgHxnOEkEMUefpVucXO7+fZKZ+m0NcSSRSstwIAYn7JinoeNuP21v3GFj2kWQz/3f9RjF1+yIINgHMKEIUBC2S2+nX9ynXSjY2tvzLROqNh4jX7pBkf8NWJJyH4vifiH8euED+2uWW8EnHPCT/K72ebc2UXhv1P8kElYCjZzhLdVp4eqPoGuG3HgPJ1Zlav4LIFAfMvLzzdjtoN/1aEcAtiQ5r3pkWv7LU7mQvleFCo1p99chuqaSAGucn0NCHduqIxILTgFZ3Jo2ZYDtHOdvNU+At05ycQIDAQAB-----END RSA Public Key-----";return t.setPublicKey(a),t.encrypt(e)}var Pe={data:function(){return{ruleForm:{Email:"",password:"",VerifyCode:""},watch:{$route:function(e,t){console.log(e.path),console.log(t.path),window.location.reload()}},rules:{Email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],Password:[{required:!0,message:"请输入密码",trigger:"blur"}],VerifyCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return alert("error submit!!"),!1;q({Email:t.ruleForm.Email,Password:Oe(t.ruleForm.Password),VerifyCode:t.ruleForm.VerifyCode}).then((function(e){200===e.code?(localStorage.setItem("token",e.data.token),t.$message({message:"登录成功!",type:"success"}),sessionStorage.setItem("store",JSON.stringify(e.data.user)),console.log(e.data.user),console.log(t.$store.state.userInfo),t.$router.push({path:"/main/addnews",query:{islogin:1}})):t.$message({message:"登录失败,请重新登录",type:"error"})}))}))},resetForm:function(e){this.$refs[e].resetFields()},getVerify:function(){U({Email:this.ruleForm.Email}).then((function(e){200===e.code&&alert("成功")}))}}},je=Pe,Ee=(a("92e7"),Object(c["a"])(je,S,D,!1,null,null,null)),Te=Ee.exports,Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-section"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"top",rules:e.rules,model:e.ruleForm,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"邮箱",prop:"Email"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.Email,callback:function(t){e.$set(e.ruleForm,"Email",t)},expression:"ruleForm.Email"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"Password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.Password,callback:function(t){e.$set(e.ruleForm,"Password",t)},expression:"ruleForm.Password"}})],1),a("el-form-item",{attrs:{label:"验证码",prop:"VerifyCode"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.VerifyCode,callback:function(t){e.$set(e.ruleForm,"VerifyCode",t)},expression:"ruleForm.VerifyCode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"info",icon:"el-icon-message",circle:""},on:{click:e.getVerify}}),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},Le=[],qe={data:function(){return{ruleForm:{Email:"",password:"",VerifyCode:""},watch:{$route:function(e,t){console.log(e.path),console.log(t.path),window.location.reload()}},rules:{}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return alert("error submit!!"),!1;Ie({Email:t.ruleForm.Email,Password:t.ruleForm.Password,VerifyCode:t.ruleForm.VerifyCode}).then((function(e){200===e.code?(localStorage.setItem("token",e.data.token),t.$message({message:"登录成功!",type:"success"}),sessionStorage.setItem("store",JSON.stringify(e.data.user)),console.log(e.data.user),console.log(t.$store.state.userInfo),t.$router.push({path:"/main/addnews",query:{islogin:1}})):t.$message({message:"登录失败,请重新登录",type:"error"})}))}))},resetForm:function(e){this.$refs[e].resetFields()},getVerify:function(){U({Email:this.ruleForm.Email}).then((function(e){200===e.code&&alert("成功")}))}}},ze=qe,Ue=(a("304a"),Object(c["a"])(ze,Re,Le,!1,null,null,null)),Ae=Ue.exports,Qe={components:{Login:Te,Loginerr:Ae},data:function(){return{activeName:"login"}}},Je=Qe,Xe=(a("9986"),Object(c["a"])(Je,N,$,!1,null,null,null)),Ve=Xe.exports,Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"register-page"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"注册",name:"login"}},[a("Register")],1)],1)],1)},He=[],Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-section"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"top",rules:e.rules,model:e.ruleForm,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"name"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"Password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.Password,callback:function(t){e.$set(e.ruleForm,"Password",t)},expression:"ruleForm.Password"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"Email"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.Email,callback:function(t){e.$set(e.ruleForm,"Email",t)},expression:"ruleForm.Email"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"others"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.others,callback:function(t){e.$set(e.ruleForm,"others",t)},expression:"ruleForm.others"}})],1),a("el-form-item",{attrs:{label:"负责板块",prop:"ClassificationsID"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.cities,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},Ke=[],We=(a("b0c0"),{data:function(){return{ruleForm:{name:"",Email:"",Password:"",others:""},rules:{Email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],Password:[{required:!0,message:"请输入密码",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}],others:[{required:!0,message:"请输入备注信息",trigger:"blur"}]},cities:[],value:""}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return alert("error submit!!"),!1;Q({Email:t.ruleForm.Email,Password:t.ruleForm.Password,UserName:t.ruleForm.name,ClassificationsID:t.value,OtherInfo:t.ruleForm.others}).then((function(e){200===e.code&&(t.$message({message:"注册成功!",type:"success"}),t.$router.push({path:"/main/addnews"}))}))}))},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){var e=this;ee().then((function(t){if(200===t.code)for(var a=0;a<t.data.length;a++)t.data[a]&&e.cities.push({value:t.data[a].classificationID,label:t.data[a].classificationName})}))}}),Ze=We,Ge=(a("8f6a"),Object(c["a"])(Ze,Be,Ke,!1,null,null,null)),Ye=Ge.exports,et={components:{Register:Ye},data:function(){return{activeName:"login"}}},tt=et,at=(a("c2b6"),Object(c["a"])(tt,Me,He,!1,null,null,null)),rt=at.exports,nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"space-page"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"用户空间",name:"login"}},[a("Edit")],1)],1)],1)},st=[],ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-section"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"top",rules:e.rules,model:e.ruleForm,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户ID",prop:"id"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.id,callback:function(t){e.$set(e.ruleForm,"id",t)},expression:"ruleForm.id"}})],1),a("el-form-item",{attrs:{label:"用户名",prop:"name"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"others"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.others,callback:function(t){e.$set(e.ruleForm,"others",t)},expression:"ruleForm.others"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("修改")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},it=[],lt={data:function(){return{ruleForm:{id:JSON.parse(sessionStorage.getItem("store")).UserID,name:JSON.parse(sessionStorage.getItem("store")).UserName,others:""},rules:{id:[{required:!0,message:"请输入ID",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}],others:[{required:!0,message:"请输入备注信息",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return alert("error submit!!"),!1;W({UserID:t.ruleForm.id,UserName:t.ruleForm.name,OtherInfo:t.ruleForm.others}).then((function(e){if(200===e.code){t.$message({message:"修改成功!",type:"success"});var a=X();F.commit("changeUserInfo",a.data),t.$router.push({path:"/main/addNews"})}}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},ut=lt,ct=(a("e36b"),Object(c["a"])(ut,ot,it,!1,null,null,null)),mt=ct.exports,pt={components:{Edit:mt},data:function(){return{activeName:"login"}}},ft=pt,dt=(a("c13b"),Object(c["a"])(ft,nt,st,!1,null,null,null)),ht=dt.exports,gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-select",{staticClass:"selects",attrs:{filterable:"",clearable:"",placeholder:"请选择板块"},on:{clear:e.handClear,change:e.handChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options1,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"作者"},model:{value:e.autho,callback:function(t){e.autho=t},expression:"autho"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"标题"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmiterr}},[e._v("SQL注入查询")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-question"},on:{click:e.ondetail}},[e._v("缺陷演示实例")])],1),a("el-switch",{staticClass:"selectone",attrs:{width:"60","active-color":"#13ce66","inactive-color":"#ff4949","active-text":"按点击率排序"},on:{change:e.selectOne},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),a("el-row",{attrs:{gutter:15}},e._l(e.newsList,(function(t){return a("el-col",{key:t.ClassificationID,attrs:{span:8}},[a("el-card",{staticClass:"card",attrs:{"body-style":{padding:"0px"}}},[a("router-link",{attrs:{to:{name:"newsdetail",query:{NewsID:t.NewsID}}}},[a("img",{staticClass:"imageNews",attrs:{src:t.NewsImages}})]),a("div",{staticStyle:{padding:"14px"}},[a("span",{staticClass:"newstitle"},[e._v(e._s(t.NewsTitle))]),a("div",{staticClass:"from"},[a("span",{staticClass:"autho"},[e._v(e._s(t.Author))]),a("el-tag",{staticClass:"class"},[e._v(e._s(t.ClassificationName))])],1),a("div",{staticClass:"bottom clearfix"},[a("time",{staticClass:"time"},[e._v(e._s(t.CreateTime))]),a("el-button",{staticClass:"button",attrs:{type:"danger",round:"",size:"small"}},[a("router-link",{attrs:{to:{name:"deleteNews",query:{NewsID:t.NewsID,ClassificationID:t.ClassificationID}}}},[e._v("删除")])],1),a("el-button",{staticClass:"button",attrs:{type:"primary",round:"",size:"small"}},[a("router-link",{attrs:{to:{name:"changeNews",query:{NewsID:t.NewsID}}}},[e._v("编辑")])],1)],1)])],1)],1)})),1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"biue","current-page":e.currentPage,"page-size":e.pagesize,layout:"total, prev, pager, next, jumper",total:e.numNews},on:{"current-change":e.handleCurrentChange}})],1)],1)},bt=[],vt={data:function(){return{newsList:"",currentPage:1,numNews:"",pagesize:6,options1:[],value1:!1,autho:"",title:""}},mounted:function(){var e=this;sessionStorage.setItem("islogin",this.$route.query.islogin);var t=[];ce({}).then((function(a){if(200===a.code){if(a.data.length<=6){for(var r=0;r<a.data.length;r++)a.data[r]&&t.push(a.data[r]);e.numNews=a.data.length,e.newsList=t,console.log(e.newsList)}else if(a.data.length>6){for(var n=0;n<6;n++)a.data[n]&&t.push(a.data[n]);e.numNews=a.data.length,e.newsList=t,console.log(e.newsList)}sessionStorage.setItem("news",JSON.stringify(a.data))}})),ee().then((function(t){if(200===t.code)for(var a=0;a<t.data.length;a++)t.data[a]&&t.data[a].classificationID===JSON.parse(sessionStorage.getItem("news"))[a].ClassificationID&&e.options1.push({value:t.data[a].classificationID,label:t.data[a].classificationName})}))},watch:{$route:function(e,t){console.log(e.path),console.log(t.path),window.location.reload()}},methods:{selectOne:function(e){var t=this,a=[];sessionStorage.removeItem("news"),ce({IsOrder:e}).then((function(e){if(200===e.code){if(e.data.length<=6){for(var r=0;r<e.data.length;r++)e.data[r]&&a.push(e.data[r]);t.numNews=e.data.length,t.newsList=a,console.log(t.newsList)}else if(e.data.length>6){for(var n=0;n<6;n++)e.data[n]&&a.push(e.data[n]);t.numNews=e.data.length,t.newsList=a,console.log(t.newsList)}sessionStorage.setItem("news",JSON.stringify(e.data))}400===e.code&&t.$message({message:"无权获取!",type:"error"})}))},ondetail:function(){this.$alert('<strong>此处标题搜索栏未对用户输入的查询条件做校验处理，<br>可在标题栏拼接恶意SQL语句实现查询<br>例如:输入  不存在此数据  点击查询结果为空<br>输入 不存在此数据"or"1"="1 点击SQL注入查询结果变成数据库中所有数据,造成数据泄露</strong>',"SQL注入漏洞",{dangerouslyUseHTMLString:!0,center:!0,type:"warning"})},handClear:function(){this.numNews=JSON.parse(sessionStorage.getItem("news")).length,this.newsList=JSON.parse(sessionStorage.getItem("news"))},handChange:function(e){this.$forceUpdate();for(var t=[],a=0;a<JSON.parse(sessionStorage.getItem("news")).length;a++)(JSON.parse(sessionStorage.getItem("news"))[a].ClassificationID===e||JSON.parse(sessionStorage.getItem("news"))[a].NewsTitle===e||JSON.parse(sessionStorage.getItem("news"))[a].Author===e)&&t.push(JSON.parse(sessionStorage.getItem("news"))[a]);console.log(t),this.newsList=t,this.numNews=t.length},onSubmiterr:function(){var e=this,t=[];sessionStorage.removeItem("news"),$e({NewsTitle:this.title,Author:this.autho,ClassificationsID:this.value}).then((function(a){if(200===a.code)if(a.data){if(a.data.length<=6){for(var r=0;r<a.data.length;r++)a.data[r]&&t.push(a.data[r]);e.numNews=a.data.length,e.newsList=t,console.log(e.newsList),e.$notify({title:"SQL注入漏洞警示",message:"标题搜索栏未对用户输入的搜索条件检验合法性,存在SQL注入漏洞。攻击者通过恶意拼接SQL语句便可获取到数据库信息从而造成数据泄露!",type:"warning",duration:0})}else if(a.data.length>6){for(var n=0;n<6;n++)a.data[n]&&t.push(a.data[n]);e.numNews=a.data.length,e.newsList=t,console.log(e.newsList),e.$notify({title:"警告",message:"标题搜索栏未对用户输入的搜索条件检验合法性,存在SQL注入漏洞。攻击者通过恶意拼接SQL语句便可获取到数据库信息从而造成数据泄露!",type:"warning",duration:0})}sessionStorage.setItem("news",JSON.stringify(a.data))}else a.data||(e.numNews=0,e.newsList={});400===a.code&&e.$message({message:"无权获取!",type:"error"})}))},onSubmit:function(){var e=this,t=[];sessionStorage.removeItem("news"),ce({NewsTitle:this.title,Author:this.autho,ClassificationsID:this.value}).then((function(a){if(200===a.code)if(a.data){if(a.data.length<=6){for(var r=0;r<a.data.length;r++)a.data[r]&&t.push(a.data[r]);e.numNews=a.data.length,e.newsList=t,console.log(e.newsList),e.$notify({title:"SQL注入漏洞警示",message:"标题搜索栏未对用户输入的搜索条件检验合法性,存在SQL注入漏洞。攻击者通过恶意拼接SQL语句便可获取到数据库信息从而造成数据泄露!",type:"warning",duration:0})}else if(a.data.length>6){for(var n=0;n<6;n++)a.data[n]&&t.push(a.data[n]);e.numNews=a.data.length,e.newsList=t,console.log(e.newsList),e.$notify({title:"警告",message:"标题搜索栏未对用户输入的搜索条件检验合法性,存在SQL注入漏洞。攻击者通过恶意拼接SQL语句便可获取到数据库信息从而造成数据泄露!",type:"warning",duration:0})}sessionStorage.setItem("news",JSON.stringify(a.data))}else a.data||(e.numNews=0,e.newsList={});400===a.code&&e.$message({message:"无权获取!",type:"error"})}))},handleEdit:function(){},handleDelete:function(){},handleCurrentChange:function(e){var t=this;this.currentPage=e,ce({}).then((function(e){for(var a=[],r=6*(t.currentPage-1);r<6*t.currentPage;r++)e.data[r]&&a.push(e.data[r]);t.newsList=a,console.log(e.data.length)}))}}},wt=vt,Ft=(a("44b5"),Object(c["a"])(wt,gt,bt,!1,null,null,null)),yt=Ft.exports,xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticClass:"userMain"},[a("div",{staticClass:"userTable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"用户名",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.UserName))]}}])}),a("el-table-column",{attrs:{prop:"Email",label:"邮箱",width:"300"}}),a("el-table-column",{attrs:{prop:"Classifications",label:"权限","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"biue","current-page":e.currentPage,"page-sizes":[3,5,10],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.numUsers},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},Ct=[],_t={components:{},data:function(){return{tableData:[],currentPage:1,numUsers:"",pagesize:3}},watch:{$route:function(e,t){console.log(e.path),console.log(t.path),window.location.reload()}},mounted:function(){var e=this;B().then((function(t){var a=[];e.numUsers=t.data.length,console.log(t.data);for(var r=0;r<e.pagesize*e.currentPage;r++)t.data[r]&&a.push(t.data[r]);e.tableData=a}))},methods:{handleEdit:function(e){console.log(this.tableData[e].UserName),this.$router.push({path:"/main/changeUser",query:{UserID:this.tableData[e].UserID}})},handleDelete:function(e){var t=this;console.log(this.tableData[e].UserID),M({UserID:this.tableData[e].UserID}).then((function(e){if(200!==e.code)return alert("error!!"),!1;B().then((function(e){var a=[];t.numUsers=e.data.length;for(var r=t.pagesize*(t.currentPage-1);r<t.pagesize*t.currentPage;r++)a.push(e.data[r]);t.tableData=a}))}))},handleSizeChange:function(e){var t=this;this.pagesize=e,B().then((function(e){var a=[];t.numUsers=e.data.length;for(var r=t.pagesize*(t.currentPage-1);r<t.pagesize*t.currentPage;r++)e.data[r]&&a.push(e.data[r]);t.tableData=a}))},handleCurrentChange:function(e){var t=this;this.currentPage=e,B().then((function(e){var a=[];t.numUsers=e.data.length;for(var r=t.pagesize*(t.currentPage-1);r<t.pagesize*t.currentPage;r++)e.data[r]&&a.push(e.data[r]);t.tableData=a}))}}},kt=_t,It=(a("2c95"),Object(c["a"])(kt,xt,Ct,!1,null,"022aa315",null)),Nt=It.exports,$t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"change-page"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"修改密码",name:"login"}},[a("Change")],1)],1)],1)},St=[],Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-section"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"top",rules:e.rules,model:e.ruleForm,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"旧密码",prop:"Password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.Password,callback:function(t){e.$set(e.ruleForm,"Password",t)},expression:"ruleForm.Password"}})],1),a("el-form-item",{attrs:{label:"新密码",prop:"NewPassword"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.NewPassword,callback:function(t){e.$set(e.ruleForm,"NewPassword",t)},expression:"ruleForm.NewPassword"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"RePassword"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.RePassword,callback:function(t){e.$set(e.ruleForm,"RePassword",t)},expression:"ruleForm.RePassword"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("修改")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},Ot=[],Pt={data:function(){return{ruleForm:{Password:"",NewPassword:"",RePassword:""},rules:{Password:[{required:!0,message:"请输入旧密码",trigger:"blur"}],NewPassword:[{required:!0,message:"请输入新密码",trigger:"blur"}],RePassword:[{required:!0,message:"请输入新密码",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return alert("error submit!!"),!1;G({Password:t.ruleForm.Password,NewPassword:t.ruleForm.NewPassword}).then((function(e){200===e.code&&(t.$message({message:"修改成功!",type:"success"}),t.$router.push({path:"/main/addnews"}))}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},jt=Pt,Et=(a("7e00"),Object(c["a"])(jt,Dt,Ot,!1,null,null,null)),Tt=Et.exports,Rt={components:{Change:Tt},data:function(){return{activeName:"login"}}},Lt=Rt,qt=(a("b66a"),Object(c["a"])(Lt,$t,St,!1,null,null,null)),zt=qt.exports,Ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticClass:"classMain"},[a("div",{staticClass:"classTable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"分类名",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.classificationName))]}}])}),a("el-table-column",{attrs:{prop:"classificationID",label:"分类编号",width:"100"}}),a("el-table-column",{attrs:{prop:"updateUserId",label:"更新者",width:"100"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"300"}}),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"biue","current-page":e.currentPage,"page-sizes":[3,5,10],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.numClass},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},At=[],Qt=(a("ac1f"),a("5319"),{components:{},data:function(){return{tableData:[],currentPage:1,numClass:"",pagesize:3}},mounted:function(){var e=this;ee().then((function(t){var a=[];e.numClass=t.data.length,console.log(t.data);for(var r=0;r<e.pagesize*e.currentPage;r++)t.data[r]&&(t.data[r].createTime=t.data[r].createTime.replace(/T/," "),t.data[r].createTime=t.data[r].createTime.replace(/\+.*/," "),t.data[r].updateTime=t.data[r].updateTime.replace(/T/," "),t.data[r].updateTime=t.data[r].updateTime.replace(/\+.*/," "),a.push(t.data[r]));e.tableData=a}))},methods:{handleEdit:function(e){console.log(this.tableData[e].classificationName),this.$router.push({path:"/main/changeClass",query:{ClassificationID:this.tableData[e].classificationID}})},handleDelete:function(e){var t=this;console.log(this.tableData[e].classificationID),ne({ClassificationID:this.tableData[e].classificationID}).then((function(e){if(200!==e.code)return alert("error!!"),!1;ee().then((function(e){var a=[];t.numClass=e.data.length;for(var r=t.pagesize*(t.currentPage-1);r<t.pagesize*t.currentPage;r++)e.data[r]&&(e.data[r].createTime=e.data[r].createTime.replace(/T/," "),e.data[r].createTime=e.data[r].createTime.replace(/\+.*/," "),e.data[r].updateTime=e.data[r].updateTime.replace(/T/," "),e.data[r].updateTime=e.data[r].updateTime.replace(/\+.*/," "),a.push(e.data[r]));t.tableData=a}))}))},handleSizeChange:function(e){var t=this;this.pagesize=e,ee().then((function(e){var a=[];t.numClass=e.data.length;for(var r=t.pagesize*(t.currentPage-1);r<t.pagesize*t.currentPage;r++)e.data[r]&&(e.data[r].createTime=e.data[r].createTime.replace(/T/," "),e.data[r].createTime=e.data[r].createTime.replace(/\+.*/," "),e.data[r].updateTime=e.data[r].updateTime.replace(/T/," "),e.data[r].updateTime=e.data[r].updateTime.replace(/\+.*/," "),a.push(e.data[r]));t.tableData=a}))},handleCurrentChange:function(e){var t=this;this.currentPage=e,ee().then((function(e){var a=[];t.numClass=e.data.length;for(var r=t.pagesize*(t.currentPage-1);r<t.pagesize*t.currentPage;r++)e.data[r]&&(e.data[r].createTime=e.data[r].createTime.replace(/T/," "),e.data[r].createTime=e.data[r].createTime.replace(/\+.*/," "),e.data[r].updateTime=e.data[r].updateTime.replace(/T/," "),e.data[r].updateTime=e.data[r].updateTime.replace(/\+.*/," "),a.push(e.data[r]));t.tableData=a}))}}}),Jt=Qt,Xt=(a("e4d2"),Object(c["a"])(Jt,Ut,At,!1,null,"637a7422",null)),Vt=Xt.exports,Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addclass-page"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"新增分类",name:"login"}},[a("AddClass")],1)],1)],1)},Ht=[],Bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-section"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"top",rules:e.rules,model:e.ruleForm,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名",prop:"name"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"others"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.others,callback:function(t){e.$set(e.ruleForm,"others",t)},expression:"ruleForm.others"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},Kt=[],Wt={data:function(){return{ruleForm:{name:"",others:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],others:[{required:!0,message:"请输入备注信息",trigger:"blur"}]},value:""}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return alert("error submit!!"),!1;oe({ClassificationName:t.ruleForm.name,OtherInfo:t.ruleForm.others}).then((function(e){200===e.code&&(t.$message({message:"添加成功!",type:"success"}),t.$router.push({path:"/main/allClass"}))}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},Zt=Wt,Gt=(a("a8fd"),Object(c["a"])(Zt,Bt,Kt,!1,null,null,null)),Yt=Gt.exports,ea={components:{AddClass:Yt},data:function(){return{activeName:"login"}}},ta=ea,aa=(a("a191"),Object(c["a"])(ta,Mt,Ht,!1,null,null,null)),ra=aa.exports,na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"changeclass-page"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"修改分类",name:"login"}},[a("ChangeClass")],1)],1)],1)},sa=[],oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-section"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"top",rules:e.rules,model:e.ruleForm,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类ID",prop:"id"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.id,callback:function(t){e.$set(e.ruleForm,"id",t)},expression:"ruleForm.id"}})],1),a("el-form-item",{attrs:{label:"分类名",prop:"name"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"others"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.others,callback:function(t){e.$set(e.ruleForm,"others",t)},expression:"ruleForm.others"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},ia=[],la={data:function(){return{ruleForm:{id:this.$route.query.ClassificationID,name:"",others:""},rules:{id:[{required:!0,message:"请输入分类ID",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}],others:[{required:!0,message:"请输入备注信息",trigger:"blur"}]},value:""}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return alert("error submit!!"),!1;le({ClassificationID:t.ruleForm.id,ClassificationName:t.ruleForm.name,OtherInfo:t.ruleForm.others}).then((function(e){200===e.code&&(t.$message({message:"修改成功!",type:"success"}),t.$router.push({path:"/main/allClass"}))}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},ua=la,ca=(a("9499"),Object(c["a"])(ua,oa,ia,!1,null,null,null)),ma=ca.exports,pa={components:{ChangeClass:ma},data:function(){return{activeName:"login"}}},fa=pa,da=(a("a71c"),Object(c["a"])(fa,na,sa,!1,null,null,null)),ha=da.exports,ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"changeuse-page"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"修改信息",name:"login"}},[a("ChangeUser")],1)],1)],1)},ba=[],va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-section"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"top",rules:e.rules,model:e.ruleForm,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户ID",prop:"id"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.id,callback:function(t){e.$set(e.ruleForm,"id",t)},expression:"ruleForm.id"}})],1),a("el-form-item",{attrs:{label:"用户名",prop:"name"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"others"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.others,callback:function(t){e.$set(e.ruleForm,"others",t)},expression:"ruleForm.others"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},wa=[],Fa={data:function(){return{ruleForm:{id:this.$route.query.UserID,name:"",others:""},rules:{id:[{required:!0,message:"请输入用户ID",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}],others:[{required:!0,message:"请输入备注信息",trigger:"blur"}]},value:""}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return alert("error submit!!"),!1;W({UserID:t.ruleForm.id,UserName:t.ruleForm.name,OtherInfo:t.ruleForm.others}).then((function(e){200===e.code&&(t.$message({message:"修改成功!",type:"success"}),t.$router.push({path:"/main/allUsers"}))}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},ya=Fa,xa=(a("2ac5"),Object(c["a"])(ya,va,wa,!1,null,null,null)),Ca=xa.exports,_a={components:{ChangeUser:Ca},data:function(){return{activeName:"login"}}},ka=_a,Ia=(a("ad05"),Object(c["a"])(ka,ga,ba,!1,null,null,null)),Na=Ia.exports,$a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addNews-section"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"left",rules:e.rules,model:e.ruleForm,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属分类",prop:"ClassificationsID"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.cities,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])})),1)],1),a("el-form-item",{attrs:{label:"新闻标题",prop:"title"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),a("el-form-item",{attrs:{label:"作者",prop:"autho"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.autho,callback:function(t){e.$set(e.ruleForm,"autho",t)},expression:"ruleForm.autho"}})],1),a("el-form-item",{attrs:{label:"新闻内容",prop:"message"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.ruleForm.message,callback:function(t){e.$set(e.ruleForm,"message",t)},expression:"ruleForm.message"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"others"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.ruleForm.others,callback:function(t){e.$set(e.ruleForm,"others",t)},expression:"ruleForm.others"}})],1),a("el-form-item",{attrs:{label:"正常上传图片",prop:"NewsImage"}},[a("input",{attrs:{id:"uploadimg",type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png"},on:{change:e.handupload}})]),a("el-form-item",{attrs:{label:"存在上传漏洞",prop:"NewsImage"}},[a("input",{attrs:{id:"uploadimg",type:"file"},on:{change:e.handuploads}})]),a("div",{staticClass:"upimg"},[a("img",{staticClass:"upimgs",attrs:{src:e.imgurl}})]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},Sa=[],Da=(a("3ca3"),a("ddb0"),a("2b3d"),localStorage.getItem("token"));console.log(Da);var Oa={data:function(){return{ruleForm:{title:"",others:"",message:"",autho:"",NewsImage:""},cities:[],mytoken:{token:Da},imgurl:"",filedata:"",rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]},value:""}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return alert("error submit!!"),!1;Fe({NewsImage:t.filedata,ClassificationID:t.value,NewsTitle:t.ruleForm.title,Author:t.ruleForm.autho,Content:t.ruleForm.message,OtherInfo:t.ruleForm.others}).then((function(e){200===e.code&&(alert("添加成功"),t.$router.push({path:"/main/addNews"}))}))}))},handupload:function(e){var t=this,a=e.target.files[0],r=new FormData;r.append("file",a),r.append("dirPath","images/news");var n=window.URL.createObjectURL(a);console.log(n),this.imgurl=n,xe(r).then((function(e){200===e.code&&(t.filedata=e.data,console.log(t.filedata),t.$alert("<strong>此处上传对用户提交的文件做了校验处理，限制了可以上传的类型，保证用户提交的文件合理合法</strong>","图片上传成功",{dangerouslyUseHTMLString:!0,center:!0,type:"success"}))}))},handuploads:function(e){var t=this,a=e.target.files[0],r=new FormData;r.append("file",a),r.append("dirPath","images/news");var n=window.URL.createObjectURL(a);console.log(n),this.imgurl=n,xe(r).then((function(e){200===e.code&&(t.filedata=e.data,console.log(t.filedata),t.$alert("<strong>此处上传对用户提交的文件没做任何校验处理，用户提交的任何文件都会被上传至服务器，潜在危害极大，如果用户提交了木马文件等恶意代码，网站的安全性会受到很大威胁!</strong>","存在上传漏洞,恶意攻击文件已上传成功",{dangerouslyUseHTMLString:!0,center:!0,type:"warning"}))}))},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){var e=this;ee().then((function(t){if(200===t.code)for(var a=0;a<t.data.length;a++)t.data[a]&&1!=t.data[a].classificationID&&e.cities.push({value:t.data[a].classificationID,label:t.data[a].classificationName})}))}},Pa=Oa,ja=(a("19dd"),Object(c["a"])(Pa,$a,Sa,!1,null,null,null)),Ea=ja.exports,Ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"delete-page"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"确认删除",name:"login"}},[a("DeleteNews")],1)],1)],1)},Ra=[],La=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"delete-section"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"top",rules:e.rules,model:e.ruleForm,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"新闻ID",prop:"id"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.id,callback:function(t){e.$set(e.ruleForm,"id",t)},expression:"ruleForm.id"}})],1),a("el-form-item",{attrs:{label:"所属分类",prop:"name"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("删除")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},qa=[],za={data:function(){return{ruleForm:{id:this.$route.query.NewsID,name:this.$route.query.ClassificationID},rules:{id:[{required:!0,message:"请输入用户ID",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}]},value:""}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return alert("error submit!!"),!1;pe({NewsID:t.ruleForm.id,ClassificationID:t.ruleForm.name}).then((function(e){200===e.code&&(t.$message({message:"删除成功!",type:"success"}),t.$router.push({path:"/main/addNews"}))}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},Ua=za,Aa=(a("85bb"),Object(c["a"])(Ua,La,qa,!1,null,null,null)),Qa=Aa.exports,Ja={components:{DeleteNews:Qa},data:function(){return{activeName:"login"}}},Xa=Ja,Va=(a("7f60"),Object(c["a"])(Xa,Ta,Ra,!1,null,null,null)),Ma=Va.exports,Ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"changeclass-page"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"确认修改",name:"login"}},[a("ChangeNews")],1)],1)],1)},Ba=[],Ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"change-section"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"left",rules:e.rules,model:e.ruleForm,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属分类",prop:"ClassificationsID"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.cities,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])})),1)],1),a("el-form-item",{attrs:{label:"新闻标题",prop:"title"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),a("el-form-item",{attrs:{label:"作者",prop:"autho"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.autho,callback:function(t){e.$set(e.ruleForm,"autho",t)},expression:"ruleForm.autho"}})],1),a("el-form-item",{attrs:{label:"新闻内容",prop:"message"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.ruleForm.message,callback:function(t){e.$set(e.ruleForm,"message",t)},expression:"ruleForm.message"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"others"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.ruleForm.others,callback:function(t){e.$set(e.ruleForm,"others",t)},expression:"ruleForm.others"}})],1),a("el-form-item",{attrs:{label:"点击量",prop:"clicks"}},[a("el-input",{attrs:{type:"Number",autocomplete:"off"},model:{value:e.ruleForm.clicks,callback:function(t){e.$set(e.ruleForm,"clicks",t)},expression:"ruleForm.clicks"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},Wa=[],Za={data:function(){return{ruleForm:{name:this.$route.query.ClassificationID,title:"",autho:"",message:"",others:"",clicks:""},cities:[],rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]},value:this.$route.query.ClassificationID}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return alert("error submit!!"),!1;de({NewsID:t.$route.query.NewsID,ClassificationID:t.ruleForm.name,NewsTitle:t.ruleForm.title,Author:t.ruleForm.autho,Content:t.ruleForm.message,OtherInfo:t.ruleForm.others,ClickQuantity:parseInt(t.ruleForm.clicks)}).then((function(e){200===e.code&&(t.$message({message:"修改成功!",type:"success"}),t.$router.push({path:"/main/addNews"}))}))}))},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){for(var e=this,t=JSON.parse(sessionStorage.getItem("news")).length,a=JSON.parse(sessionStorage.getItem("news")),r=0;r<t;r++)a[r].NewsID===this.$route.query.NewsID&&(this.ruleForm.title=a[r].NewsTitle,this.ruleForm.autho=a[r].Author,this.ruleForm.message=a[r].Content,this.ruleForm.others=a[r].OtherInfo,this.ruleForm.clicks=a[r].ClickQuantity);ee().then((function(t){if(200===t.code)for(var a=0;a<t.data.length;a++)t.data[a]&&1!=t.data[a].classificationID&&e.cities.push({value:t.data[a].classificationID,label:t.data[a].classificationName})}))}},Ga=Za,Ya=(a("f53b"),Object(c["a"])(Ga,Ka,Wa,!1,null,null,null)),er=Ya.exports,tr={components:{ChangeNews:er},data:function(){return{activeName:"login"}}},ar=tr,rr=(a("a1ed"),Object(c["a"])(ar,Ha,Ba,!1,null,null,null)),nr=rr.exports,sr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"newsdetail"},[a("div",{staticClass:"title"},[e._v(" "+e._s(e.Title)+" ")]),a("div",[a("el-tag",{staticClass:"autho"},[e._v(e._s(e.Autho))])],1),a("div",{staticClass:"image"},[a("img",{staticClass:"images",attrs:{src:e.Image}})]),a("div",{staticClass:"suggest"},[e._v(" 新闻详情 ")]),a("div",{staticClass:"contentword"},[a("p",{staticClass:"content"},[e._v(" "+e._s(e.Content)+" ")])]),a("div",{staticClass:"bottom"},[a("span",{staticClass:"time"},[e._v(e._s(e.Time))]),a("el-tooltip",{attrs:{content:"新闻浏览量",placement:"top",effect:"light"}},[a("i",{staticClass:"el-icon-view"},[e._v(e._s(e.Click))])])],1)])},or=[],ir={data:function(){return{Title:"",Image:"",Autho:"",Content:"",Time:"",Click:""}},mounted:function(){var e=this;ve({NewsID:this.$route.query.NewsID}).then((function(t){200===t.code&&(e.Title=t.data.NewsTitle,e.Image=t.data.NewsImage,e.Autho=t.data.Author,e.Content=t.data.Content,e.Time=t.data.UpdateTime,e.Click=t.data.ClickQuantity)})),ge({NewsID:this.$route.query.NewsID}).then((function(e){e.code}))}},lr=ir,ur=(a("15fd"),Object(c["a"])(lr,sr,or,!1,null,"60417ab4",null)),cr=ur.exports,mr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addnews-page"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"新增新闻",name:"login"}},[a("AddNews")],1)],1)],1)},pr=[],fr={components:{AddNews:Ea},data:function(){return{activeName:"login"}}},dr=fr,hr=(a("3e1a"),Object(c["a"])(dr,mr,pr,!1,null,null,null)),gr=hr.exports,br=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-main",[r("div",{staticClass:"ranking"},[r("el-carousel",{attrs:{interval:4e3,type:"card",height:"380px"}},e._l(e.clickData,(function(t,n){return r("el-carousel-item",{key:n},[r("div",{staticClass:"image"},[r("router-link",{attrs:{to:{name:"newsdetail",query:{NewsID:t.NewsID}}}},[r("img",{staticClass:"images",attrs:{src:t.NewsImages}})])],1),r("div",{staticClass:"tips"},[r("img",{staticClass:"imgs",attrs:{src:a("8b8c")}}),r("span",{staticClass:"top"},[e._v("Top"+e._s(n+1))]),r("p",{staticClass:"num"},[e._v("浏览量"+e._s(t.ClickQuantity))])])])})),1)],1),r("div",{staticClass:"bz"},[r("span",{staticClass:"popular"},[e._v("最受欢迎新闻")])])])},vr=[],wr=(a("fb6a"),{data:function(){return{clickData:[]}},watch:{$route:function(e,t){console.log(e.path),console.log(t.path),window.location.reload()}},methods:{handelchange:function(){console.log(111)}},mounted:function(){var e=this,t=[],a=[];a=JSON.parse(sessionStorage.getItem("store")).ClassificationsID,ce({ClassificationsID:a}).then((function(a){if(200===a.code)if(a.data.length>5){for(var r=0;r<a.data.length;r++)a.data[r]&&t.push(a.data[r]);e.clickData=t.sort((function(e,t){return t.ClickQuantity-e.ClickQuantity})).slice(0,5)}else if(a.data.length<5){for(var n=0;n<a.data.length;n++)a.data[n]&&t.push(a.data[n]);e.clickData=t.sort((function(e,t){return t.ClickQuantity-e.ClickQuantity})).slice(0,a.data.length)}}))}}),Fr=wr,yr=(a("2216"),Object(c["a"])(Fr,br,vr,!1,null,"7e069119",null)),xr=yr.exports,Cr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addclass-page"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"新增分类",name:"login"}},[a("AddxssClass")],1)],1)],1)},_r=[],kr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-section"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"top",rules:e.rules,model:e.ruleForm,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名",prop:"name"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"others"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.others,callback:function(t){e.$set(e.ruleForm,"others",t)},expression:"ruleForm.others"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")]),a("el-tag",{staticClass:"warning",attrs:{type:"danger"}},[e._v("请注意,该网页存在XSS漏洞")])],1)],1)],1)},Ir=[],Nr={data:function(){return{ruleForm:{name:"",others:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],others:[{required:!0,message:"请输入备注信息",trigger:"blur"}]},value:""}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return alert("error submit!!"),!1;oe({ClassificationName:t.ruleForm.name,OtherInfo:t.ruleForm.others}).then((function(e){200===e.code&&(t.$message({message:"添加成功!",type:"success"}),t.$router.push({path:"/main/xss"}))}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},$r=Nr,Sr=(a("d624"),Object(c["a"])($r,kr,Ir,!1,null,null,null)),Dr=Sr.exports,Or={components:{AddxssClass:Dr},data:function(){return{activeName:"login"}}},Pr=Or,jr=(a("4342"),Object(c["a"])(Pr,Cr,_r,!1,null,null,null)),Er=jr.exports,Tr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("div",{staticClass:"tops"},[a("i",{staticClass:"el-icon-warning"}),e._v("被攻击后的状态 ")]),a("el-select",{staticClass:"valueid",attrs:{placeholder:"请选择分类ID"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.cities,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])})),1),a("el-button",{staticClass:"xssbut",attrs:{type:"danger"},on:{click:e.handelxss}},[e._v("XSS漏洞攻击")]),a("el-button",{staticClass:"xssbuts",attrs:{type:"danger"},on:{click:e.handelelxss}},[e._v("错误查看")]),a("el-button",{staticClass:"xssbuts",attrs:{type:"primary"},on:{click:e.handelelelxss}},[e._v("正确查看")]),a("div",{staticClass:"xss0"},[a("table",{staticClass:"tables",attrs:{border:"1",width:"100%"}},[a("tr",{attrs:{align:"center"}},[a("td",[e._v(" XSS漏洞处理后添加的正确数据 ")]),a("td",[e._v(" 分类名 ")]),a("td",[e._v(" 分类ID ")]),a("td",[e._v(" 备注信息 ")])]),a("tr",{attrs:{align:"center"}},[a("td",[e._v(" XSS漏洞处理后添加的正确数据 ")]),a("td",[e._v(" "+e._s(e.XSS0[0].ClassificationName)+" ")]),a("td",[e._v(" "+e._s(e.XSS0[0].ClassificationID)+" ")]),a("td",[e._v(" "+e._s(e.XSS0[0].OtherInfo)+" ")])])])]),a("div",{staticClass:"xss1",domProps:{innerHTML:e._s(e.XSS1)}}),a("div",{staticClass:"detailsss"},[a("el-collapse",{attrs:{accordion:""}},[a("el-collapse-item",[a("template",{slot:"title"},[e._v(" 漏洞描述"),a("i",{staticClass:"header-icon el-icon-question"})]),a("div",{staticClass:"details1"},[a("p",[e._v("跨站脚本攻击（Cross-Site Scripting，XSS）是指通过存在安全漏洞的Web 网站注册用户的浏览器内运行非法的 HTML 标签或 JavaScript 进行的一种攻击。XSS漏洞经常出现在需要用户输入的地方，这些地方一旦对输入不进行处理，黑客就可以进行HTML注入，进而篡改网页。")]),a("p",[e._v('常见形式 1.插入恶意JS脚本 ( 简单举例: <img src="http:www.xxx.com" onerror="alert(\'xss攻击\')> )')]),a("p",[e._v("2.插入恶意html代码 ( 简单举例: <s>123</s> )")]),a("p",[e._v('3.插入伪造的图片或非法网站等 ( 简单举例: <img src="https://img1.baidu.com/it/u=3140958831,606641020&fm=26&fmt=auto&gp=0.jpg"> ) ')])])],2),a("el-collapse-item",[a("template",{slot:"title"},[e._v(" 漏洞危害"),a("i",{staticClass:"header-icon el-icon-error"})]),a("div",{staticClass:"details1"},[a("p",[e._v("钓鱼网站，高级钓鱼攻击。")]),a("p",[e._v("删除目标文章、恶意篡改数据、嫁祸。")]),a("p",[e._v("劫持用户Web行为，甚至进一步渗透内网。")]),a("p",[e._v("蠕虫式挂马攻击、刷广告、刷浏量、破坏网上数据。")]),a("p",[e._v("其他安全问题。")])])],2),a("el-collapse-item",[a("template",{slot:"title"},[e._v(" 防御手段"),a("i",{staticClass:"header-icon el-icon-s-cooperation"})]),a("div",{staticClass:"details1"},[a("p",[e._v("永远不要相信用户的输入，也永远不要相信服务器返回的数据。将用户所提供的内容进行过滤。")]),a("p",[e._v("1、对于输入：检测是否有script.img.等标签2、对于输出：对于尖括号等特殊字符必须做转义和反转义处理;")])])],2)],1)],1)],1)},Rr=[],Lr=(a("99af"),{data:function(){return{XSS1:"",value:"",XSS0:[{ClassificationName:"",ClassificationID:"",OtherInfo:""}],cities:[]}},methods:{handelxss:function(){this.$router.push({path:"/main/xss1"})},handelelelxss:function(){var e=this;ae({ClassificationID:this.value}).then((function(t){200===t.code&&(e.XSS0[0].ClassificationName=t.data.ClassificationName,e.XSS0[0].ClassificationID=t.data.ClassificationID,e.XSS0[0].OtherInfo=t.data.OtherInfo)}))},handelelxss:function(){var e=this;console.log(this.value),ae({ClassificationID:this.value}).then((function(t){var a="";200===t.code&&(a='<table class="tables" border=\'1\' width="100%" >\n                            <tr align="center"> \n                                <td>\n                                XSS漏洞未处理添加的错误数据\n                                </td>\n                                <td>\n                                分类名\n                                </td>\n                                <td>\n                               分类ID\n                                </td>\n                                <td>\n                               备注信息\n                                </td>                              \n                            </tr>\n                            <tr align="center"> \n                                <td>\n                                XSS漏洞未处理添加的错误数据\n                                </td>\n                                <td>\n                                '.concat(t.data.ClassificationName,"\n                                </td>\n                                <td>\n                                ").concat(t.data.ClassificationID,"\n                                </td>\n                                <td>\n                                ").concat(t.data.OtherInfo,"\n                                </td>                               \n                            </tr>\n                        </table>"),e.XSS1=a)}))}},mounted:function(){var e=this;ee().then((function(t){if(200===t.code)for(var a=0;a<t.data.length;a++)t.data[a]&&1!=t.data[a].classificationID&&e.cities.push({value:t.data[a].classificationID,label:t.data[a].classificationName})}))}}),qr=Lr,zr=(a("04ed"),Object(c["a"])(qr,Tr,Rr,!1,null,"126ee850",null)),Ur=zr.exports;r["default"].use(v["a"]);var Ar=new v["a"]({mode:"history",base:"",routes:[{path:"/",name:"login",title:"登录",component:Ve},{path:"/edit",name:"edit",title:"修改个人资料",component:ht},{path:"/change",name:"change",title:"修改个人密码",component:zt},{path:"/main",name:"main",title:"首页",component:I,children:[{path:"addnews",name:"addNews",title:"添加新闻",component:yt},{path:"allUsers",name:"allUsers",title:"显示所有用户信息",component:Nt},{path:"/register",name:"register",title:"注册",component:rt},{path:"allClass",name:"allClass",title:"显示所有分类信息",component:Vt},{path:"addClass",name:"addClass",title:"新增分类信息",component:ra},{path:"changeClass",name:"changeClass",title:"修改分类信息",component:ha},{path:"changeUser",name:"changeUser",title:"修改用户信息",component:Na},{path:"test",name:"test",title:"测试",component:Ea},{path:"deleteNews",name:"deleteNews",title:"删除新闻",component:Ma},{path:"changeNews",name:"changeNews",title:"修改新闻",component:nr},{path:"newsdetail",name:"newsdetail",title:"新闻详情",component:cr},{path:"news",name:"news",title:"添加新闻",component:gr},{path:"rank",name:"rank",title:"排行榜",component:xr},{path:"xss",name:"xss",title:"xss攻击",component:Ur},{path:"xss1",name:"xss1",title:"xss攻击1",component:Er}]}]});Ar.beforeEach(function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t,a,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:n=e.sent,F.commit("changeUserInfo",n.data),r();case 5:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}());var Qr=Ar,Jr=a("5c96"),Xr=a.n(Jr);a("0fae");r["default"].use(Xr.a),r["default"].config.productionTip=!1,new r["default"]({router:Qr,store:F,render:function(e){return e(g)}}).$mount("#app")},5774:function(e,t,a){},"6a08":function(e,t,a){},"778b":function(e,t,a){},"7a6f":function(e,t,a){},"7a74":function(e,t,a){},"7ad6":function(e,t,a){},"7e00":function(e,t,a){"use strict";a("ec3d")},"7f60":function(e,t,a){"use strict";a("a3ce")},"828b":function(e,t,a){},"85bb":function(e,t,a){"use strict";a("8fd2")},"85ec":function(e,t,a){},"8b8c":function(e,t,a){e.exports=a.p+"img/i5.c616f1cc.jpg"},"8f6a":function(e,t,a){"use strict";a("9857")},"8fd2":function(e,t,a){},"92e7":function(e,t,a){"use strict";a("3484")},9499:function(e,t,a){"use strict";a("d214")},9857:function(e,t,a){},9986:function(e,t,a){"use strict";a("828b")},"9ef4":function(e,t,a){},a191:function(e,t,a){"use strict";a("e837")},a1ed:function(e,t,a){"use strict";a("2e05")},a3ce:function(e,t,a){},a71c:function(e,t,a){"use strict";a("04d4")},a884:function(e,t,a){},a8fd:function(e,t,a){"use strict";a("a884")},ad05:function(e,t,a){"use strict";a("6a08")},b66a:function(e,t,a){"use strict";a("7a74")},b70e:function(e,t,a){},b989:function(e,t,a){},c13b:function(e,t,a){"use strict";a("b989")},c2b6:function(e,t,a){"use strict";a("02cd")},d214:function(e,t,a){},d624:function(e,t,a){"use strict";a("12af")},d969:function(e,t,a){"use strict";a("0074")},e36b:function(e,t,a){"use strict";a("53a5")},e4d2:function(e,t,a){"use strict";a("4864")},e837:function(e,t,a){},ec3d:function(e,t,a){},f53b:function(e,t,a){"use strict";a("7ad6")},fd36:function(e,t,a){}});
//# sourceMappingURL=app.4e5275d2.js.map