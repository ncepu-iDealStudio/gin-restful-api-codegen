# 代码生成器v2.0规划

## 一、界面（展示模块）

- [ ] 基于layui的纯web界面（基于embed封装进go项目中）
- [ ] 基于vue的前端界面

## 二、后端（核心模块）

### 1. 后端程序

1. 架构设计

   - [ ] 基于gin框架编写

   - [ ] 数据储存使用session

   - [ ] 数据持久化使用mysql

   - [ ] 用户登录/管理

2. 模块设计

   1. 用户登录
      1. SSO单点登录
      2. OAuth2登录
   2. 用户的项目代码模板
      1. 存储方式
         1. 本地存储
         2. 阿里云OSS对象存储
      2. 替换方式
         1. 字典替换
      3. 选配不生成文件
   3. 用户的数据库映射文件

### 2. 项目生成

项目模板导入优化：

- [ ] 基于压缩包的代码导入
- [ ] 基于git的代码

项目生成规则：

- [ ] 复制项目模板
- [ ] 找到更好的替换字符串的方式
- [ ] 基于Key-Value字典进行替换
- [ ] 基于template代码生成

### 3. 数据库映射文件

1. 基于单表关系生成
   - [ ] 找出业务主键
   - [x] 基于template进行代码生成
2. 基于视图生成
   - [ ] 研究基于视图的增删改查方法
3. 基于多表关系生成
   - [ ] 外键
   - [ ] 相同名称
   - [ ] 相同备注

### 4. 代码模板

1. go-gin项目代码
   - [ ] 研究更好操作的update方法
   - [ ] 完善**增删改**的**存在/不存在**的判断方法
2. python项目代码
   - [ ] 移植ideal工作室的代码python-flask代码模板
   - [ ] 完善相关数据库代码生成