{
  "static_dict": {
    "project_name": "test_project",
    "father_path": "result"
  },
  "filepath": "{{father_path}}/{{project_name}}/internal/apis/crudApis",
  "file_header": "// coding: utf-8\n// @Author : lryself\n// @Software: GoLand\n\npackage crudApis",
  "import": {
    "header": "import (\n\t\"{{project_name}}/internal/globals/responseParser\"\n\t\"{{project_name}}/internal/services\"\n\t\"{{project_name}}/internal/utils/structs\"\n\t\"github.com/gin-gonic/gin\"",
    "footer": ")"
  },
  "methods":{
    "crud": "func {{StructName}}Api(c *gin.Context) {\n\tvar err error\n\tvar {{StructName}}Service services.{{StructName}}Service\n\terr = c.ShouldBind(&{{StructName}}Service)\n\n\tif c.Request.Method == \"GET\" {\n\t\terr = {{StructName}}Service.Get()\n\t\tif err != nil {\n\t\t\tresponseParser.JsonDBError(c, \"\", err)\n\t\t\treturn\n\t\t}\n\t} else if c.Request.Method == \"POST\" {\n\t\terr = {{StructName}}Service.Add()\n\t\tif err != nil {\n\t\t\tresponseParser.JsonDBError(c, \"\", err)\n\t\t\treturn\n\t\t}\n\t} else if c.Request.Method == \"PUT\" {\n\t\targs, err := structs.StructToMap({{StructName}}Service.{{StructName}}Dao.{{StructName}}, \"json\")\n\t\tif err != nil {\n\t\t\tresponseParser.JsonParameterIllegal(c, \"\", err)\n\t\t}\n\t\t// todo AutoID为业务主键名\n\t\tdelete(args, \"AutoID\")\n\n\t\ttemp := services.{{StructName}}Service{}\n\t\ttemp.AutoID = {{StructName}}Service.AutoID\n\t\terr = temp.Update(args)\n\t\tif err != nil {\n\t\t\tresponseParser.JsonDBError(c, \"\", err)\n\t\t\treturn\n\t\t}\n\t} else if c.Request.Method == \"DELETE\" {\n\t\terr = {{StructName}}Service.Delete()\n\t\tif err != nil {\n\t\t\tresponseParser.JsonDBError(c, \"\", err)\n\t\t\treturn\n\t\t}\n\t}\n\n\tresponseParser.JsonOK(c, \"\", {{StructName}}Service)\n}"
  }
}